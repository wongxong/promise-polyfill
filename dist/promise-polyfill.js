!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.MyPromise=t():e.MyPromise=t()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}var o="pending",u="fulfilled",c="rejected";function i(e){return"function"==typeof e}function a(){}var f=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!i(t))throw new TypeError("resolver should be a function");this._status=o,this._value=void 0,this._callbacks=[],l(this,t)}return r(e,null,[{key:"resolve",value:function(t){return new e((function(e,n){return e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){return n(t)}))}},{key:"all",value:function(e){var t=new Array(e.length),n=0;return new Promise((function(r,o){try{e.forEach((function(u,c){u.then((function(o){n+=1,t[c]=o,e.length<=n&&r(t)})).catch((function(e){o(e)}))}))}catch(e){o(e)}}))}},{key:"allSettled",value:function(e){var t=new Array(e.length),n=0;return new Promise((function(r,o){try{e.forEach((function(o,i){var a=function(o,c){n+=1;var a,f,l,s=c===u?"value":"reason";t[i]=(l=o,(f=s)in(a={status:c})?Object.defineProperty(a,f,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[f]=l,a),e.length<=n&&r(t)};o.then((function(e){a(e,u)})).catch((function(e){a(e,c)}))}))}catch(e){o(e)}}))}},{key:"race",value:function(t){return new e((function(e,n){t.forEach((function(t){t.then(e).catch(n)}))}))}},{key:"any",value:function(t){return new e((function(e,n){var r=0,o=new Array(t.length);t.forEach((function(u,c){u.then(e).catch((function(e){r+=1,o[c]=e,r>=t.length&&n(o)}))}))}))}}]),r(e,[{key:"then",value:function(t,n){var r=new e(a),u={p:r,x:this,onFulfilled:t,onRejected:n};return this._status===o?this._callbacks.push(u):s(u),r}},{key:"catch",value:function(e){return this.then(void 0,e)}},{key:"resolve",value:function(e){this._status===o&&(this._status=u,this._value=e,this._callbacks.forEach(s))}},{key:"reject",value:function(e){this._status===o&&(this._status=c,this._value=e,this._callbacks.forEach(s))}}]),e}();function l(e,t){var n=!1;try{t((function(t){n||(n=!0,h(e,t))}),(function(t){n||(n=!0,e.reject(t))}))}catch(t){if(n)return;n=!0,e.reject(t)}}function s(e){var t=e.p,n=e.x,r=e.onFulfilled,o=e.onRejected;setTimeout((function(){var e=n._status,c=n._value,a=e===u?r:o;if(i(a))try{h(t,a(c))}catch(e){t.reject(e)}else e===u?t.resolve(c):t.reject(c)}))}function h(e,t){if(e===t)return e.reject(new TypeError("chaining"));if(t instanceof f)return t.then((function(t){return h(e,t)}),(function(t){return e.reject(t)}));if(null===t||!i(t)&&(r=t,"[object Object]"!==Object.prototype.toString.call(r)))e.resolve(t);else try{var n=t.then;i(n)?l(e,n.bind(t)):e.resolve(t)}catch(t){e.reject(t)}var r}e.exports=f}])}));